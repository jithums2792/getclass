!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-mathjax",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],t):t((e=e||self)["ngx-mathjax"]={},e.ng.core,e.ng.common,e.rxjs,e.rxjs.operators)}(this,function(e,t,n,r,a){"use strict";function o(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function i(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var u=function(){function e(){this.MathJaxHub$=new r.ReplaySubject}return e.prototype.init=function(){window.mathJaxHub$=this.MathJaxHub$},e=o([t.Injectable()],e)}(),s=function(){function e(e,t){var n=this;this.expressionChangeSubject=new r.ReplaySubject,this.mathJaxTypesetSubject=new r.Subject,this.mathJaxHub$=t.MathJaxHub$,this.element=e.nativeElement,this.typesetSubscription=r.combineLatest([this.mathJaxHub$,this.mathJaxTypesetSubject]).subscribe(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,n.element])}),this.allJax$=r.combineLatest([this.mathJaxHub$,this.mathJaxTypesetSubject]).pipe(a.map(function(){return MathJax.Hub.getAllJax(n.element)})),this.expressionChangeSubscription=r.combineLatest([this.allJax$,this.expressionChangeSubject]).subscribe(function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(u){a={error:u}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(a)throw a.error}}return i}(e,2),r=t[0];return t[1].forEach(function(e){return MathJax.Hub.Queue(function(){if(!n.isDestroying)return r[e.order].Text(e.value)})})})}return e.prototype.ngAfterViewInit=function(){var e=this;this.hubSubscription=this.mathJaxHub$.subscribe(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.element]),MathJax.Hub.Queue(["MathJaxTypeset",e])})},e.prototype.MathJaxTypeset=function(){this.mathJaxTypesetSubject.next()},e.prototype.ngOnChanges=function(e){var t=e.MathJaxExpressions;if(t.currentValue instanceof Array){var n=t.currentValue.map(function(e,n){return t.previousValue&&t.previousValue[n]===e?undefined:{value:t.currentValue[n],order:n}}).filter(function(e){return e});this.expressionChangeSubject.next(n)}},e.prototype.ngOnDestroy=function(){this.isDestroying=!0,this.expressionChangeSubscription.unsubscribe(),this.hubSubscription.unsubscribe(),this.typesetSubscription.unsubscribe(),this.mathJaxTypesetSubject.complete(),this.expressionChangeSubject.complete()},o([t.Input("mathjax"),i("design:type",Array)],e.prototype,"MathJaxExpressions",void 0),e=o([t.Directive({selector:"mathjax, [mathjax]"}),i("design:paramtypes",[t.ElementRef,u])],e)}(),c=function(){return function(){}}(),p=function(){function e(e,t){e.init();var n,r=function(){MathJax.Hub.Config({skipStartupTypeset:!0,messageStyle:"none",tex2jax:{preview:"none"}}),MathJax.Hub.Register.StartupHook("End",function(){window.mathJaxHub$.next(),window.mathJaxHub$.complete()})}.toString();t&&((n=document.createElement("script")).type="text/x-mathjax-config",n.text="("+r+")();",document.getElementsByTagName("head")[0].appendChild(n),function(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.src="https://"+n+"/ajax/libs/mathjax/"+e+"/MathJax.js?config="+t,r.async=!0,document.getElementsByTagName("head")[0].appendChild(r)}(t.version,t.config,t.hostname))}var r;return r=e,e.config=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t={version:"2.7.5",config:"TeX-AMS_HTML",hostname:"cdnjs.cloudflare.com"}),e?{ngModule:r,providers:[{provide:c,useValue:t},{provide:u,useClass:u}]}:{ngModule:r}},e.forRoot=function(e){return void 0===e&&(e={version:"2.7.5",config:"TeX-AMS_HTML",hostname:"cdnjs.cloudflare.com"}),{ngModule:r,providers:[{provide:c,useValue:e},{provide:u,useClass:u}]}},e.forChild=function(){return{ngModule:r}},e=r=o([t.NgModule({declarations:[s],imports:[n.CommonModule],exports:[s]}),i("design:paramtypes",[u,c])],e)}();e.MathJaxDirective=s,e.MathJaxModule=p,e.ModuleConfiguration=c,e.Éµa=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-mathjax.umd.min.js.map